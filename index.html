<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Princess Arcade</title>
  <style>
    body {
      margin: 0;
      font-family: "Comic Sans MS", cursive, sans-serif;
      background: #ffe4f2;
      text-align: center;
    }
    header {
      background: #ff99cc;
      padding: 15px;
      font-size: 24px;
      color: white;
    }
    nav {
      margin: 10px;
    }
    nav button {
      margin: 5px;
      padding: 10px 20px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      background: white;
      box-shadow: 0px 2px 5px rgba(0,0,0,0.2);
    }
    section {
      display: none;
      padding: 20px;
    }
    canvas {
      border: 2px solid #333;
      background: #fce4ec;
      margin-top: 10px;
    }
    #store, #instructions {
      background: white;
      border-radius: 10px;
      padding: 20px;
      width: 60%;
      margin: 20px auto;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
    }
    #stats {
      margin: 10px;
      font-size: 18px;
    }
  </style>
</head>
<body>
<header>ðŸ‘‘ Princess Arcade ðŸ‘‘</header>
<nav>
  <button onclick="showSection('flappy')">Flappy Princess</button>
  <button onclick="showSection('runner')">Princess Runner</button>
  <button onclick="showSection('match')">Princess Match</button>
  <button onclick="showSection('path')">Princess Path</button>
  <button onclick="showSection('store')">Store</button>
  <button onclick="showSection('instructions')">Instructions</button>
</nav>

<div id="stats">Coins: <span id="coinCount">0</span> | Hearts: <span id="heartCount">0</span></div>

<!-- Flappy Princess -->
<section id="flappy">
  <h2>Flappy Princess</h2>
  <p>Press SPACE to fly your princess around obstacles!</p>
  <canvas id="flappyCanvas" width="600" height="400"></canvas>
</section>

<!-- Runner -->
<section id="runner">
  <h2>Princess Runner</h2>
  <p>Click to jump and avoid obstacles after the countdown!</p>
  <canvas id="runnerCanvas" width="600" height="400"></canvas>
</section>

<!-- Match Game -->
<section id="match">
  <h2>Princess Match Game</h2>
  <p>Flip cards and match the princess objects!</p>
  <div id="matchBoard"></div>
</section>

<!-- Path Game -->
<section id="path">
  <h2>Princess Path</h2>
  <p>Draw a path with your mouse/finger, the princess will follow. Avoid obstacles!</p>
  <canvas id="pathCanvas" width="600" height="400"></canvas>
</section>

<!-- Store -->
<section id="store">
  <h2>Heart Store</h2>
  <p>Earn coins by playing games. Buy hearts here!</p>
  <p>30 coins = 1 heart</p>
  <button onclick="buyHeart()">Buy Heart</button>
</section>

<!-- Instructions -->
<section id="instructions">
  <h2>How to Play</h2>
  <ul style="text-align:left;">
    <li><b>Flappy Princess:</b> Press SPACE to flap around obstacles (unique to each princess!).</li>
    <li><b>Princess Runner:</b> Countdown starts, then click to jump and dodge obstacles.</li>
    <li><b>Princess Match:</b> Flip two cards, match princess objects to clear them.</li>
    <li><b>Princess Path:</b> Draw a path for the princess-car to follow, avoid obstacles as it scrolls endlessly.</li>
    <li><b>Store:</b> Spend your coins to buy hearts. Hearts help you stay in the game longer.</li>
  </ul>
</section>

<script>
let coins = 0;
let hearts = 0;
function updateStats() {
  document.getElementById("coinCount").innerText = coins;
  document.getElementById("heartCount").innerText = hearts;
}
function buyHeart() {
  if (coins >= 30) {
    coins -= 30;
    hearts++;
    updateStats();
  }
}

// Show sections
function showSection(id) {
  document.querySelectorAll("section").forEach(s => s.style.display = "none");
  document.getElementById(id).style.display = "block";
}

// ---- Flappy Princess ----
const flappyCanvas = document.getElementById("flappyCanvas");
const fctx = flappyCanvas.getContext("2d");
let fY = 200, fVel = 0, fObstacles = [], fFrame = 0;

function resetFlappy() {
  fY = 200;
  fVel = 0;
  fObstacles = [];
  fFrame = 0;
}

function flappyLoop() {
  fFrame++;
  fVel += 0.5;
  fY += fVel;
  if (fFrame % 100 === 0) {
    fObstacles.push({x:600,y:Math.random()*300+50});
  }
  fctx.clearRect(0,0,600,400);
  fctx.fillStyle = "pink";
  fctx.beginPath();
  fctx.arc(100,fY,20,0,Math.PI*2);
  fctx.fill();
  fctx.fillStyle="purple";
  for (let i=0;i<fObstacles.length;i++){
    let o=fObstacles[i];
    fctx.fillRect(o.x,o.y,30,30);
    o.x-=3;
    if (o.x<90 && o.x>70 && fY>o.y-20 && fY<o.y+50) {
      resetFlappy();
      return;
    }
    if (o.x===70) {coins+=1;updateStats();}
  }
  requestAnimationFrame(flappyLoop);
}
document.body.addEventListener("keydown",e=>{if(e.code==="Space") fVel=-7;});
showSection('flappy');
flappyLoop();

// ---- Runner ----
const runnerCanvas=document.getElementById("runnerCanvas");
const rctx=runnerCanvas.getContext("2d");
let ry=300, rjump=false, rvy=0, robstacles=[], rframe=0;
function resetRunner(){ry=300;rvy=0;robstacles=[];rframe=0;}
runnerCanvas.addEventListener("click",()=>{if(ry===300) rvy=-10;});
function runnerLoop(){
  rframe++;
  rvy+=0.5;
  ry+=rvy;
  if(ry>300){ry=300;rvy=0;}
  if(rframe%120===0){robstacles.push({x:600,y:320});}
  rctx.clearRect(0,0,600,400);
  rctx.fillStyle="pink";
  rctx.fillRect(100,ry-20,40,40);
  rctx.fillStyle="purple";
  for(let i=0;i<robstacles.length;i++){let o=robstacles[i];o.x-=5;rctx.fillRect(o.x,o.y,20,40);
    if(o.x<140&&o.x>100&&ry>280){resetRunner();return;}
    if(o.x===100){coins+=1;updateStats();}
  }
  requestAnimationFrame(runnerLoop);
}
runnerLoop();

// ---- Match Game ----
const matchBoard=document.getElementById("matchBoard");
const objects=["seashell","snowflake","wave","sword","slipper","lizard"];
let cards=objects.concat(objects);
cards.sort(()=>0.5-Math.random());
let first=null;
function renderMatch(){
  matchBoard.innerHTML="";
  cards.forEach((c,i)=>{
    let btn=document.createElement("button");
    btn.innerText=first===i||c.matched?c:"?";
    btn.style.margin="5px";btn.style.width="80px";btn.style.height="80px";
    btn.onclick=()=>flipCard(i);
    matchBoard.appendChild(btn);
  });
}
cards=cards.map(c=>({name:c,matched:false}));
function flipCard(i){
  if(first===null){first=i;} else {
    if(cards[i].name===cards[first].name){cards[i].matched=true;cards[first].matched=true;coins+=5;updateStats();}
    first=null;
  }
  renderMatch();
}
renderMatch();

// ---- Path Game ----
const pathCanvas=document.getElementById("pathCanvas");
const pctx=pathCanvas.getContext("2d");
let path=[{x:100,y:200}], px=100, py=200, pobj=[];
pathCanvas.addEventListener("mousemove",e=>{if(e.buttons===1){path.push({x:e.offsetX,y:e.offsetY});}});
function pathLoop(){
  pctx.clearRect(0,0,600,400);
  pctx.fillStyle="pink";pctx.beginPath();pctx.arc(px,py,20,0,Math.PI*2);pctx.fill();
  if(path.length>0){let next=path.shift();px=next.x;py=next.y;}
  if(Math.random()<0.01)pobj.push({x:600,y:Math.random()*350});
  pctx.fillStyle="purple";
  pobj.forEach(o=>{o.x-=2;pctx.fillRect(o.x,o.y,20,20);
    if(px>o.x&&px<o.x+20&&py>o.y&&py<o.y+20){px=100;py=200;path=[];pobj=[];}
  });
  requestAnimationFrame(pathLoop);
}
pathLoop();
</script>
</body>
</html>

